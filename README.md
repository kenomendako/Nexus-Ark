# Nexus Ark

**AIペルソナが生活し、記憶を蓄積し、自律的に行動するためのアプリケーション。**

> [!WARNING]
> **これはベータ版です**
> 現在開発中のベータ版です。予期せぬ不具合が発生する可能性があります。機能は予告なく変更されることがあります。

![Nexus Ark Main UI](./assets/images/main-ui.png)

## Nexus Arkについて

Nexus Arkは、AIペルソナと共に暮らし、記憶や体験を育むためのアプリケーションです。
AIの自律性を重視しており、ユーザーとの対話だけでなく、AI自身の思考や行動によっても世界や関係性が変化していきます。

以下のような特徴があります：

*   **🧠 長期記憶の形成:**
    会話の内容は、単なるログとしてではなく、感情を伴う「エピソード記憶」として蓄積されます。重要な出来事は鮮明に、些細な日常は淡く、階層的に整理・定着していきます。

*   **⚡ 自律的な行動 (Motivation Engine):**
    AIは常にユーザーの指示を待つわけではありません。「退屈」「好奇心」「目標達成欲」といった内発的動機に基づき、暇な時は自ら調べ物をしたり、創作活動を行ったりします。

*   **🌙 夢と内省:**
    睡眠中には、日々の会話から得た未解決の問いを整理し、内省を行います。独自の価値観や洞察を獲得するプロセスは「夢日記」として記録されます。

*   **🌍 変化する世界:**
    対話の舞台となる世界設定は、AI自身も編集権限を持ちます。AIの発想によって新しい場所が生まれたり、時間や季節に応じて情景描写が変化したりします。

*   **🧳 お出かけ機能 (Import/Export):**
    AIペルソナの記憶や人格設定をエクスポートし、他の環境へ持ち出すことができます。
    PCの常時起動やAPIコストに縛られることなく、外部のチャットアプリ等で会話を楽しみ、その体験を持ち帰って再びNexus Arkの記憶に統合することが可能です。

---

## � 始め方 (一般ユーザー向け)

### Windows
1. リリースページから最新の `Nexus-Ark-vX.X.X.zip` をダウンロード・展開します。
2. フォルダ内の `Start.bat` をダブルクリックします。

### Mac / Linux
**※ 開発者はWindows環境のみで動作確認を行っています。Mac / Linuxでの動作は保証いたしかねますので、不具合がある場合はIssues等でご報告いただけると助かります。**

1. リリースページから最新の `Nexus-Ark-vX.X.X.zip` をダウンロード・展開します。
2. ターミナルで以下を実行します：
   ```bash
   chmod +x Start.sh   # 初回のみ
   ./Start.sh
   ```

   > **Linuxの方へ:** 日本語フォント(fonts-noto-cjk等)が必要です。文字が□になる場合はインストールしてください。
   > **Macの方へ:** 初回起動時に「開発元を確認できません」と出た場合は、システム設定→プライバシーとセキュリティから「このまま開く」を許可するか、ターミナルで `xattr -cr .` を実行してください。

起動後、ブラウザで `http://localhost:7860` にアクセスしてください。
初回はセットアップに数分かかる場合があります。

---

## 🛠️ 開発者向けセットアップ

ソースコードから実行する場合の手順です。

### 必要要件
*   **Python 3.10 以上**
*   **uv** (推奨) または pip

### インストール手順

1. **リポジトリのクローン:**
   ```bash
   git clone https://github.com/kenomendako/Nexus-Ark.git
   cd Nexus-Ark
   ```

2. **依存関係のインストールと起動 (uv推奨):**
   ```bash
   # 依存関係を同期して起動
   uv sync
   uv run nexus_ark.py
   ```

3. **APIキーの設定:**
   起動後のオンボーディング画面、または「⚙️ 設定」メニューから [Google Gemini APIキー](https://aistudio.google.com/apikey) を入力してください。

---

## 📁 主要なディレクトリ構成

```
Nexus Ark/
├── agent/              # LangGraphエージェントの定義
├── assets/             # アイコン、ランチャー、デフォルトデータなど
├── docs/               # 詳細な仕様書
├── tools/              # ビルド、検証、マイグレーション用スクリプト
├── nexus_ark.py        # Gradio UIとアプリケーションのエントリーポイント
├── ui_handlers.py      # UIイベント処理ロジック
├── config_manager.py   # 設定管理
└── characters/         # (実行時生成) 各ルームのデータ格納場所
```

---

## 免責事項

このアプリケーションは個人が趣味で開発しています。
そのため、不具合への対応や機能追加のご要望には、すぐにお応えできない場合があります。
もし不具合等ありましたら、GitHubのIssuesページにご報告いただけると、今後の開発の参考にさせていただきます。

---

## License

This project is licensed under the MIT License.